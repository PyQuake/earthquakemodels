gaModel25 = loadDataNoMag(region, year+5, '100', 'gaModel')
lista25 = loadDataNoMag(region, year+5, '100', 'listaGA_New')
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("GAModel",10))
nameLista = c(rep("ReducedGAModel",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions, mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataNoMag(region, year+5, '100', 'hybrid_gaModel')
lista25 = loadDataNoMag(region, year+5, '100', 'hybrid_ListaGA_New')
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("EMP-GAModel",10))
nameLista = c(rep("EMP-ReducedGAModel",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
#         gaModel25 = loadDataNoMag(region, year+5, '100', 'clustered_hybrid_gaModel')
#         lista25 = loadDataNoMag(region, year+5, '100', 'clustered_hybrid_ListaGA_New')
#
#         valuesGA25 = convertToNumeric(gaModel25)
#         valuesLista25 = convertToNumeric(lista25)
#
#         loglikeValues = c(valuesGA25, valuesLista25)
#         nameGa = c(rep("EMP-GAModelWindow",10))
#         nameLista = c(rep("EMP-ReducedGAModelWindow",10))
#         model = c(nameGa, nameLista)
#         data = data.frame(loglikeValues, model, depths, years, regions,mag)
#         if (dim(finalData)[1]==0) {
#             finalData = merge(finalData, data, all.y=T)
#         }
#         else{
#             finalData=rbind(finalData, data)
#         }
#         rm(data)
#
#         gaModel25 = loadDataNoMag(region, year+5, '100', 'clusteredII_hybrid_gaModel')
#         lista25 = loadDataNoMag(region, year+5, '100', 'clusteredII_hybrid_ListaGA_New')
#
#         valuesGA25 = convertToNumeric(gaModel25)
#         valuesLista25 = convertToNumeric(lista25)
#
#         loglikeValues = c(valuesGA25, valuesLista25)
#         nameGa = c(rep("EMP-GAModelSLC",10))
#         nameLista = c(rep("EMP-ReducedGAModelSLC",10))
#
#         model = c(nameGa, nameLista)
#         data = data.frame(loglikeValues, model, depths, years, regions,mag)
#         if (dim(finalData)[1]==0) {
#             finalData = merge(finalData, data, all.y=T)
#         }
#         else{
#             finalData=rbind(finalData, data)
#         }
#         rm(data)
#
#         gaModel25 = loadDataNoMag(region, year+5, '100', 'clustered_gaModel')
#         lista25 = loadDataNoMag(region, year+5, '100', 'clustered_listaGA_new')#tem algo errado
#
#         valuesGA25 = convertToNumeric(gaModel25)
#         valuesLista25 = convertToNumeric(lista25)
#
#         loglikeValues = c(valuesGA25, valuesLista25)
#
#         nameGa = c(rep("GAModelWindow",10))
#         nameLista = c(rep("ReducedGAModelWindow",10))
#
#         model = c(nameGa, nameLista)
#         data = data.frame(loglikeValues, model,depths, years, regions,mag)
#         if (dim(finalData)[1]==0) {
#             finalData = merge(finalData, data, all.y=T)
#         }
#         else{
#             finalData=rbind(finalData, data)
#         }
#         rm(data)
#
#         gaModel25 = loadDataNoMag(region, year+5, '100', 'clusteredII_gaModel')
#         lista25 = loadDataNoMag(region, year+5, '100', 'clusteredII_listaGA_new')#tem erro
#
#         valuesGA25 = convertToNumeric(gaModel25)
#         valuesLista25 = convertToNumeric(lista25)
#
#         loglikeValues = c(valuesGA25, valuesLista25)
#
#         nameGa = c(rep("GAModelSLC",10))
#         nameLista = c(rep("ReducedGAModelSLC",10))
#
#         model = c(nameGa, nameLista)
#         data = data.frame(loglikeValues, model,depths, years, regions,mag)
#         if (dim(finalData)[1]==0) {
#             finalData = merge(finalData, data, all.y=T)
#         }
#         else{
#             finalData=rbind(finalData, data)
#         }
#         rm(data)
}
#sc with no mag
gaModel25 = loadDataNoMagSC(region, year+5, '100', 'SCsc_hybrid_gaModel')
lista25 = loadDataNoMagSC(region, year+5, '100', 'SCsc_hybrid_ListaGA_New')
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("EMP-GAModelSC",10))
nameLista = c(rep("EMP-ReducedGAModelSC",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataNoMagSC(region, year+5, '100', 'SCgaModel')
lista25 = loadDataNoMagSC(region, year+5, '100', 'SClistaGA_New')
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("GAModelSC",10))
nameLista = c(rep("ReducedGAModelSC",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model,depths, years, regions, mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
}
setwd("~/Documents/estudos/unb/earthquakemodels/Zona2/dataForR/magStudy/")
save(finalData,file="~/Documents/dataMagStudy.Rda")
summary(finalData)
knitr::opts_chunk$set(echo = TRUE)
library(knitr)
opts_chunk$set(dev='pdf')
setwd("~/Documents")
#Loading data
load("dataMagStudy.Rda")
setwd("~/Documents/estudos/unb/earthquakemodels/Zona2/DataFromR/magStudy")
summary(finalData)
summary(finalData)
finalData$mag <- as.factor(finalData$mag)
resultANOVA = aov(loglikeValues~years+regions+mag, data = finalData)
summary(resultANOVA)
tuk = TukeyHSD(resultANOVA)
op <- par(mar = c(3,8,4,2) + 0.1)
plot(tuk,las=1)
print(tuk)
summary(finalData$model=='GAModel')
summary(finalData$model=='GAModel',)
summary(finalData$model=='GAModelSC')
#         gaModel25 = loadDataNoMag(region, year+5, '100', 'clusteredII_gaModel')
#         lista25 = loadDataNoMag(region, year+5, '100', 'clusteredII_listaGA_new')#tem erro
setwd("~/Documents/estudos/unb/earthquakemodels/Zona2/dataForR/magStudy/")
region='EastJapan'
year=2005
#magStudy
loadDataWithMag = function(region, year, depth, type,mag){
setwd("~/Documents/estudos/unb/earthquakemodels/Zona2/dataForR/magStudy/")
file = paste(type,'_',region,"_",depth,'_',year,"_",mag,".0.txt",sep="")
data = read.csv2(file, sep='\n', header=F)
return(data)
}
loadDataNoMag = function(region, year, depth, type){
setwd("~/Documents/estudos/unb/earthquakemodels/Zona2/dataForR")
file = paste(type,'_',region,"_",depth,'_',year,".txt",sep="")
data = read.csv2(file, sep='\n', header=F)
setwd("~/Documents/estudos/unb/earthquakemodels/Zona2/dataForR/magStudy/")
return(data)
}
loadDataNoMagSC = function(region, year, depth, type){
setwd("~/Documents/estudos/unb/earthquakemodels/Zona2/dataForR")
file = paste(type,'_',region,"_",depth,'_',year,".txt",sep="")
data = read.csv2(file, sep='\n', header=F)
return(data)
}
loadDataWithMagSC = function(region, year, depth, type,mag){
setwd("~/Documents/estudos/unb/earthquakemodels/Zona2/dataForR/magStudy/")
file = paste(type,'/',region,"_",depth,'_',year,"_",mag,".0.txt",sep="")
data = read.csv2(file, sep='\n', header=F)
return(data)
}
# lista25 = loadDataNoMag(region, year+5, '100', 'clusteredII_listaGA_New')#tem erro
# lista25 = loadDataNoMag(region, year+5, '100', 'clustered_listaGA_New')#tem algo errado
chooseRegion = function(i){
if (i==1) {
region="Kanto"
}
else if (i==2) {
region="Kansai"
}
else if (i==3) {
region = "Tohoku"
}
else{
region = "EastJapan"
}
return(region)
}
convertToNumeric = function(model){
values = rep(0, length(model$V1))
for (k in 1:length(model$V1)){
values[k] = as.numeric(levels(model$V1[k]))[model$V1[k]]
}
return(values)
}
finalData = data.frame(
setNames(replicate(6,numeric(0), simplify = F),
c("loglikeValues", "model", "depths", "years", "regions","mag")))
for (year in 2000:2005) {
for (i in 1:4) {
region = chooseRegion(i)
for (mag in 3.0:9.0){
gaModel25 = loadDataWithMag(region, year+5, '100', 'gaModel',mag)
lista25 = loadDataWithMag(region, year+5, '100', 'listaGA_New',mag)
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
nameGa = c(rep("GAModel",10))
nameLista = c(rep("ReducedGAModel",10))
loglikeValues = c(valuesGA25, valuesLista25)
years = c(rep(toString(year+5),20))
regions = c(rep(region, 20))
depths = c(rep('100',20))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
} else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataWithMag(region, year+5, '100', 'hybrid_gaModel',mag)
lista25 = loadDataWithMag(region, year+5, '100', 'hybrid_ListaGA_New',mag)
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
nameGa = c(rep("EMP-GAModel",10))
nameLista = c(rep("EMP-ReducedGAModel",10))
loglikeValues = c(valuesGA25, valuesLista25)
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions, mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
#
#             gaModel25 = loadDataWithMag(region, year+5, '100', 'clustered_hybrid_gaModel',mag)
#             lista25 = loadDataWithMag(region, year+5, '100', 'clustered_hybrid_ListaGA_New',mag)
#
#             valuesGA25 = convertToNumeric(gaModel25)
#             valuesLista25 = convertToNumeric(lista25)
#
#             nameGa = c(rep("EMP-GAModelWindow",10))
#             nameLista = c(rep("EMP-ReducedGAModelWindow",10))
#
#             loglikeValues = c(valuesGA25, valuesLista25)
#             model = c(nameGa, nameLista)
#
#             data = data.frame(loglikeValues, model, depths, years, regions,mag)
#             if (dim(finalData)[1]==0) {
#                 finalData = merge(finalData, data, all.y=T)
#             }
#             else{
#                 finalData=rbind(finalData, data)
#             }
#             rm(data)
#             # clusteredII_listaGA_new_Tohoku_25_2010_4.0
#             gaModel25 = loadDataWithMag(region, year+5, '100', 'clusteredII_hybrid_gaModel',mag)#errad
#             lista25 = loadDataWithMag(region, year+5, '100', 'clusteredII_hybrid_ListaGA_New',mag)
#
#             valuesGA25 = convertToNumeric(gaModel25)
#             valuesLista25 = convertToNumeric(lista25)
#
#             loglikeValues = c(valuesGA25, valuesLista25)
#             nameGa = c(rep("EMP-GAModelSLC",10))
#             nameLista = c(rep("EMP-ReducedGAModelSLC",10))
#
#             model = c(nameGa, nameLista)
#             data = data.frame(loglikeValues, model, depths, years, regions,mag)
#             if (dim(finalData)[1]==0) {
#                 finalData = merge(finalData, data, all.y=T)
#             }
#             else{
#                 finalData=rbind(finalData, data)
#             }
#             rm(data)
#
#             gaModel25 = loadDataWithMag(region, year+5, '100', 'clustered_gaModel',mag)
#             lista25 = loadDataWithMag(region, year+5, '100', 'clustered_listaGA_new',mag)
#
#             valuesGA25 = convertToNumeric(gaModel25)
#             valuesLista25 = convertToNumeric(lista25)
#
#             loglikeValues = c(valuesGA25, valuesLista25)
#
#             nameGa = c(rep("GAModelWindow",10))
#             nameLista = c(rep("ReducedGAModelWindow",10))
#
#             model = c(nameGa, nameLista)
#             data = data.frame(loglikeValues, model,depths, years, regions, mag)
#             if (dim(finalData)[1]==0) {
#                 finalData = merge(finalData, data, all.y=T)
#             }
#             else{
#                 finalData=rbind(finalData, data)
#             }
#             rm(data)
# SC with mag
gaModel25 = loadDataWithMagSC(region, year+5, '100', 'sc_hybrid_ListaGA_New',mag)
lista25 = loadDataWithMagSC(region, year+5, '100', 'sc_hybrid_ListaGA_New',mag)
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("Emp-GAModelSC",10))
nameLista = c(rep("Emp-ReducedGAModelSC",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model,depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataWithMagSC(region, year+5, '100', 'gamodelSC',mag)
lista25 = loadDataWithMagSC(region, year+5, '100', 'listgamodel',mag)#tem erro
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("GAModelSC",10))
nameLista = c(rep("ReducedGAModelSC",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model,depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
}
mag='null'
gaModel25 = loadDataNoMag(region, year+5, '100', 'gaModel')
lista25 = loadDataNoMag(region, year+5, '100', 'listaGA_New')
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("GAModel",10))
nameLista = c(rep("ReducedGAModel",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions, mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataNoMag(region, year+5, '100', 'hybrid_gaModel')
lista25 = loadDataNoMag(region, year+5, '100', 'hybrid_ListaGA_New')
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("EMP-GAModel",10))
nameLista = c(rep("EMP-ReducedGAModel",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
#         gaModel25 = loadDataNoMag(region, year+5, '100', 'clustered_hybrid_gaModel')
#         lista25 = loadDataNoMag(region, year+5, '100', 'clustered_hybrid_ListaGA_New')
#
#         valuesGA25 = convertToNumeric(gaModel25)
#         valuesLista25 = convertToNumeric(lista25)
#
#         loglikeValues = c(valuesGA25, valuesLista25)
#         nameGa = c(rep("EMP-GAModelWindow",10))
#         nameLista = c(rep("EMP-ReducedGAModelWindow",10))
#         model = c(nameGa, nameLista)
#         data = data.frame(loglikeValues, model, depths, years, regions,mag)
#         if (dim(finalData)[1]==0) {
#             finalData = merge(finalData, data, all.y=T)
#         }
#         else{
#             finalData=rbind(finalData, data)
#         }
#         rm(data)
#
#         gaModel25 = loadDataNoMag(region, year+5, '100', 'clusteredII_hybrid_gaModel')
#         lista25 = loadDataNoMag(region, year+5, '100', 'clusteredII_hybrid_ListaGA_New')
#
#         valuesGA25 = convertToNumeric(gaModel25)
#         valuesLista25 = convertToNumeric(lista25)
#
#         loglikeValues = c(valuesGA25, valuesLista25)
#         nameGa = c(rep("EMP-GAModelSLC",10))
#         nameLista = c(rep("EMP-ReducedGAModelSLC",10))
#
#         model = c(nameGa, nameLista)
#         data = data.frame(loglikeValues, model, depths, years, regions,mag)
#         if (dim(finalData)[1]==0) {
#             finalData = merge(finalData, data, all.y=T)
#         }
#         else{
#             finalData=rbind(finalData, data)
#         }
#         rm(data)
#
#         gaModel25 = loadDataNoMag(region, year+5, '100', 'clustered_gaModel')
#         lista25 = loadDataNoMag(region, year+5, '100', 'clustered_listaGA_new')#tem algo errado
#
#         valuesGA25 = convertToNumeric(gaModel25)
#         valuesLista25 = convertToNumeric(lista25)
#
#         loglikeValues = c(valuesGA25, valuesLista25)
#
#         nameGa = c(rep("GAModelWindow",10))
#         nameLista = c(rep("ReducedGAModelWindow",10))
#
#         model = c(nameGa, nameLista)
#         data = data.frame(loglikeValues, model,depths, years, regions,mag)
#         if (dim(finalData)[1]==0) {
#             finalData = merge(finalData, data, all.y=T)
#         }
#         else{
#             finalData=rbind(finalData, data)
#         }
#         rm(data)
#
#         gaModel25 = loadDataNoMag(region, year+5, '100', 'clusteredII_gaModel')
#         lista25 = loadDataNoMag(region, year+5, '100', 'clusteredII_listaGA_new')#tem erro
#
#         valuesGA25 = convertToNumeric(gaModel25)
#         valuesLista25 = convertToNumeric(lista25)
#
#         loglikeValues = c(valuesGA25, valuesLista25)
#
#         nameGa = c(rep("GAModelSLC",10))
#         nameLista = c(rep("ReducedGAModelSLC",10))
#
#         model = c(nameGa, nameLista)
#         data = data.frame(loglikeValues, model,depths, years, regions,mag)
#         if (dim(finalData)[1]==0) {
#             finalData = merge(finalData, data, all.y=T)
#         }
#         else{
#             finalData=rbind(finalData, data)
#         }
#         rm(data)
}
#sc with no mag
gaModel25 = loadDataNoMagSC(region, year+5, '100', 'SCsc_hybrid_gaModel')
lista25 = loadDataNoMagSC(region, year+5, '100', 'SCsc_hybrid_ListaGA_New')
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("EMP-GAModelSC",10))
nameLista = c(rep("EMP-ReducedGAModelSC",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataNoMagSC(region, year+5, '100', 'SCgaModel')
lista25 = loadDataNoMagSC(region, year+5, '100', 'SClistaGA_New')
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("GAModelSC",10))
nameLista = c(rep("ReducedGAModelSC",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model,depths, years, regions, mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
}
setwd("~/Documents/estudos/unb/earthquakemodels/Zona2/dataForR/magStudy/")
save(finalData,file="~/Documents/dataMagStudy.Rda")
summary(finalData)
