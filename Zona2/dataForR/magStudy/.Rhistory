poisson(5)
?poisson
ppois(10*(15:25), lambda = 100)
plot(ppois(10*(15:25), lambda = 100))
?levelplot
options(scipen=999)
library(grid)
library(latticeExtra)
library(png)
library(grDevices)
library(RColorBrewer)
?levelplot
datafilename="http://personality-project.org/R/datasets/R.appendix1.data"
data.ex1=read.table(datafilename,header=T)   #read the data into a table
aov.ex1 = aov(Alertness~Dosage,data=data.ex1)  #do the analysis of variance
summary(aov.ex1)                                    #show the summary table
print(model.tables(aov.ex1,"means"),digits=3)       #report the means and the number of subjects/cell
boxplot(Alertness~Dosage,data=data.ex1)
datafilename="http://personality-project.org/R/datasets/R.appendix1.data"
data.ex1=read.table(datafilename,header=T)   #read the data into a table
version
?aov
a = c(-2025.7, -2025.7, -2025.3, -2025.3, -2025.7, -2025.3, -2025.3, -2025.7, -2025.3, -2025.3)
b = c(-2031.46,-2031.46,-2031.46,-2031.46,-2031.46,-2031.46,-2031.46,-2031.46,-2031.46,-2031.4)
`length(a)
))
''
'
`
length(a)
length(b)
t.test(a,b)
t.test(a,b)
?t.test
hist(a)
plot(a)
> kruskal.test(a,b)
a
b
?> kruskal.test
kruskal.test(a,b)
?kruskal.test
?aov
?t.test
setwd("~/Documents/estudos/unbearthquakemodels/Zona2/dataForR/magStudy/")
region='EastJapan'
year=2005
#magStudy
loadDataWithMag = function(region, year, depth, type,mag){
setwd("~/Documents/estudos/unb/earthquakemodels/Zona2/dataForR/magStudy/")
file = paste(type,'_',region,"_",depth,'_',year,"_",mag,".0.txt",sep="")
data = read.csv2(file, sep='\n', header=F)
return(data)
}
loadDataNoMag = function(region, year, depth, type){
setwd("~/Documents/estudos/unb/earthquakemodels/Zona2/dataForR")
file = paste(type,'_',region,"_",depth,'_',year,".txt",sep="")
data = read.csv2(file, sep='\n', header=F)
return(data)
}
# lista25 = loadDataNoMag(region, year+5, '100', 'clusteredII_listaGA_New')#tem erro
# lista25 = loadDataNoMag(region, year+5, '100', 'clustered_listaGA_New')#tem algo errado
chooseRegion = function(i){
if (i==1) {
region="Kanto"
}
else if (i==2) {
region="Kansai"
}
else if (i==3) {
region = "Tohoku"
}
else{
region = "EastJapan"
}
return(region)
}
convertToNumeric = function(model){
values = rep(0, length(model$V1))
for (k in 1:length(model$V1)){
values[k] = as.numeric(levels(model$V1[k]))[model$V1[k]]
}
return(values)
}
finalData = data.frame(
setNames(replicate(6,numeric(0), simplify = F),
c("loglikeValues", "model", "depths", "years", "regions","mag")))
for (year in 2000:2005) {
for (i in 1:4) {
region = chooseRegion(i)
for (mag in 3.0:9.0){
gaModel25 = loadDataWithMag(region, year+5, '100', 'gaModel',mag)
lista25 = loadDataWithMag(region, year+5, '100', 'listaGA_New',mag)
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
nameGa = c(rep("GAModel",10))
nameLista = c(rep("ReducedGAModel",10))
loglikeValues = c(valuesGA25, valuesLista25)
years = c(rep(toString(year+5),20))
regions = c(rep(region, 20))
depths = c(rep('25',20))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
} else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataWithMag(region, year+5, '100', 'hybrid_gaModel',mag)
lista25 = loadDataWithMag(region, year+5, '100', 'hybrid_ListaGA_New',mag)
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
nameGa = c(rep("EMP-GAModel",10))
nameLista = c(rep("EMP-ReducedGAModel",10))
loglikeValues = c(valuesGA25, valuesLista25)
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions, mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataWithMag(region, year+5, '100', 'clustered_hybrid_gaModel',mag)
lista25 = loadDataWithMag(region, year+5, '100', 'clustered_hybrid_ListaGA_New',mag)
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
nameGa = c(rep("EMP-GAModelWindow",10))
nameLista = c(rep("EMP-ReducedGAModelWindow",10))
loglikeValues = c(valuesGA25, valuesLista25)
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
# clusteredII_listaGA_new_Tohoku_25_2010_4.0
gaModel25 = loadDataWithMag(region, year+5, '100', 'clusteredII_hybrid_gaModel',mag)#errad
lista25 = loadDataWithMag(region, year+5, '100', 'clusteredII_hybrid_ListaGA_New',mag)
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("EMP-GAModelSLC",10))
nameLista = c(rep("EMP-ReducedGAModelSLC",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataWithMag(region, year+5, '100', 'clustered_gaModel',mag)
lista25 = loadDataWithMag(region, year+5, '100', 'clustered_listaGA_new',mag)
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("GAModelWindow",10))
nameLista = c(rep("ReducedGAModelWindow",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model,depths, years, regions, mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
}
mag='null'
gaModel25 = loadDataNoMag(region, year+5, '100', 'gaModel')
lista25 = loadDataNoMag(region, year+5, '100', 'listaGA_New')
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("GAModel",10))
nameLista = c(rep("ReducedGAModel",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions, mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataNoMag(region, year+5, '100', 'hybrid_gaModel')
lista25 = loadDataNoMag(region, year+5, '100', 'hybrid_ListaGA_New')
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("EMP-GAModel",10))
nameLista = c(rep("EMP-ReducedGAModel",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataNoMag(region, year+5, '100', 'clustered_hybrid_gaModel')
lista25 = loadDataNoMag(region, year+5, '100', 'clustered_hybrid_ListaGA_New')
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("EMP-GAModelWindow",10))
nameLista = c(rep("EMP-ReducedGAModelWindow",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataNoMag(region, year+5, '100', 'clusteredII_hybrid_gaModel')
lista25 = loadDataNoMag(region, year+5, '100', 'clusteredII_hybrid_ListaGA_New')
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("EMP-GAModelSLC",10))
nameLista = c(rep("EMP-ReducedGAModelSLC",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataNoMag(region, year+5, '100', 'clustered_gaModel')
lista25 = loadDataNoMag(region, year+5, '100', 'clustered_listaGA_new')#tem algo errado
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("GAModelWindow",10))
nameLista = c(rep("ReducedGAModelWindow",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model,depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataNoMag(region, year+5, '100', 'clusteredII_gaModel')
lista25 = loadDataNoMag(region, year+5, '100', 'clusteredII_listaGA_new')#tem erro
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("GAModelSLC",10))
nameLista = c(rep("ReducedGAModelSLC",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model,depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
}
}
setwd("~/Documents/estudos/unb/earthquakemodels/Zona2/dataForR/magStudy/")
save(finalData,file="~/Documents/dataMagStudy.Rda")
summary(finalData)
setwd("~/Documents/estudos/unbearthquakemodels/Zona2/dataForR/magStudy/")
setwd("~/Documents/estudos/unbearthquakemodels/Zona2/dataForR/magStudy/")
setwd("~/Documents/estudos/unb/earthquakemodels/Zona2/dataForR/magStudy/")
region='EastJapan'
year=2005
setwd("~/Documents/estudos/unb/earthquakemodels/Zona2/dataForR/magStudy/")
loadDataWithMag = function(region, year, depth, type,mag){
setwd("~/Documents/estudos/unb/earthquakemodels/Zona2/dataForR/magStudy/")
file = paste(type,'_',region,"_",depth,'_',year,"_",mag,".0.txt",sep="")
data = read.csv2(file, sep='\n', header=F)
return(data)
}
loadDataNoMag = function(region, year, depth, type){
setwd("~/Documents/estudos/unb/earthquakemodels/Zona2/dataForR")
file = paste(type,'_',region,"_",depth,'_',year,".txt",sep="")
data = read.csv2(file, sep='\n', header=F)
return(data)
}
# lista25 = loadDataNoMag(region, year+5, '100', 'clusteredII_listaGA_New')#tem erro
# lista25 = loadDataNoMag(region, year+5, '100', 'clustered_listaGA_New')#tem algo errado
chooseRegion = function(i){
if (i==1) {
region="Kanto"
}
else if (i==2) {
region="Kansai"
}
else if (i==3) {
region = "Tohoku"
}
else{
region = "EastJapan"
}
return(region)
}
convertToNumeric = function(model){
values = rep(0, length(model$V1))
for (k in 1:length(model$V1)){
values[k] = as.numeric(levels(model$V1[k]))[model$V1[k]]
}
return(values)
}
finalData = data.frame(
setNames(replicate(6,numeric(0), simplify = F),
c("loglikeValues", "model", "depths", "years", "regions","mag")))
for (year in 2000:2005) {
for (i in 1:4) {
region = chooseRegion(i)
for (mag in 3.0:9.0){
gaModel25 = loadDataWithMag(region, year+5, '100', 'gaModel',mag)
lista25 = loadDataWithMag(region, year+5, '100', 'listaGA_New',mag)
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
nameGa = c(rep("GAModel",10))
nameLista = c(rep("ReducedGAModel",10))
loglikeValues = c(valuesGA25, valuesLista25)
years = c(rep(toString(year+5),20))
regions = c(rep(region, 20))
depths = c(rep('25',20))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
} else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataWithMag(region, year+5, '100', 'hybrid_gaModel',mag)
lista25 = loadDataWithMag(region, year+5, '100', 'hybrid_ListaGA_New',mag)
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
nameGa = c(rep("EMP-GAModel",10))
nameLista = c(rep("EMP-ReducedGAModel",10))
loglikeValues = c(valuesGA25, valuesLista25)
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions, mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataWithMag(region, year+5, '100', 'clustered_hybrid_gaModel',mag)
lista25 = loadDataWithMag(region, year+5, '100', 'clustered_hybrid_ListaGA_New',mag)
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
nameGa = c(rep("EMP-GAModelWindow",10))
nameLista = c(rep("EMP-ReducedGAModelWindow",10))
loglikeValues = c(valuesGA25, valuesLista25)
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
# clusteredII_listaGA_new_Tohoku_25_2010_4.0
gaModel25 = loadDataWithMag(region, year+5, '100', 'clusteredII_hybrid_gaModel',mag)#errad
lista25 = loadDataWithMag(region, year+5, '100', 'clusteredII_hybrid_ListaGA_New',mag)
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("EMP-GAModelSLC",10))
nameLista = c(rep("EMP-ReducedGAModelSLC",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataWithMag(region, year+5, '100', 'clustered_gaModel',mag)
lista25 = loadDataWithMag(region, year+5, '100', 'clustered_listaGA_new',mag)
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("GAModelWindow",10))
nameLista = c(rep("ReducedGAModelWindow",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model,depths, years, regions, mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
}
mag='null'
gaModel25 = loadDataNoMag(region, year+5, '100', 'gaModel')
lista25 = loadDataNoMag(region, year+5, '100', 'listaGA_New')
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("GAModel",10))
nameLista = c(rep("ReducedGAModel",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions, mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataNoMag(region, year+5, '100', 'hybrid_gaModel')
lista25 = loadDataNoMag(region, year+5, '100', 'hybrid_ListaGA_New')
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("EMP-GAModel",10))
nameLista = c(rep("EMP-ReducedGAModel",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataNoMag(region, year+5, '100', 'clustered_hybrid_gaModel')
lista25 = loadDataNoMag(region, year+5, '100', 'clustered_hybrid_ListaGA_New')
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("EMP-GAModelWindow",10))
nameLista = c(rep("EMP-ReducedGAModelWindow",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataNoMag(region, year+5, '100', 'clusteredII_hybrid_gaModel')
lista25 = loadDataNoMag(region, year+5, '100', 'clusteredII_hybrid_ListaGA_New')
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("EMP-GAModelSLC",10))
nameLista = c(rep("EMP-ReducedGAModelSLC",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model, depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataNoMag(region, year+5, '100', 'clustered_gaModel')
lista25 = loadDataNoMag(region, year+5, '100', 'clustered_listaGA_new')#tem algo errado
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("GAModelWindow",10))
nameLista = c(rep("ReducedGAModelWindow",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model,depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
gaModel25 = loadDataNoMag(region, year+5, '100', 'clusteredII_gaModel')
lista25 = loadDataNoMag(region, year+5, '100', 'clusteredII_listaGA_new')#tem erro
valuesGA25 = convertToNumeric(gaModel25)
valuesLista25 = convertToNumeric(lista25)
loglikeValues = c(valuesGA25, valuesLista25)
nameGa = c(rep("GAModelSLC",10))
nameLista = c(rep("ReducedGAModelSLC",10))
model = c(nameGa, nameLista)
data = data.frame(loglikeValues, model,depths, years, regions,mag)
if (dim(finalData)[1]==0) {
finalData = merge(finalData, data, all.y=T)
}
else{
finalData=rbind(finalData, data)
}
rm(data)
}
}
setwd("~/Documents/estudos/unb/earthquakemodels/Zona2/dataForR/magStudy/")
save(finalData,file="~/Documents/dataMagStudy.Rda")
summary(finalData)
